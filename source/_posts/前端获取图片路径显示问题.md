---
title: 前端获取图片路径显示问题
date: 2017-12-19 22:59:39
tags:
---
简述：由于安全问题，浏览器是不能获取本地图片的路径的，那么需要先展示出来应该怎么办，这里有两个办法，第一个是利用**Blob**对象，第二个则是**FileReader（ie10+支持）**对象。
&emsp;&emsp;**1**，一个**Blob**对象就是一个包含有只读原始数据的类文件对象.**Blob**对象中的数据并不一定得是JavaScript中的原生形式.**File**接口基于**Blob**,继承了**Blob**的功能,并且扩展支持了用户计算机上的本地文件.我们想要得到的对象URL实际上就是从**Blob**这个对象获取的。如下代码：
```
//_this指的是对应的input
if(!_this.files){//由于ie9以下获取路劲是value的方法，所以input标签获取路劲用value
    src=_this.value;
}else{
    f=_this.files[0];
    var src=window.URL.createObjectURL(f)
}
```
&emsp;&emsp;**2**，**FileReader（ie10+支持）**对象允许Web应用程序异步读取存储在用户计算机上的文件（或原始数据缓冲区）的内容，使用 File 或 Blob 对象指定要读取的文件或数据。如下代码：
```
//简单获取，还有很多接口可自行百度查阅
var r= new FileReader();
var f=_this.files[0];
r.readAsDataURL(f);/*必须先经过这步骤=>开始读取指定的Blob对象或File对象中的内容*/
r.onload=function  (e) {//读取完毕
    var  img=document.createElement("img")
    img.src=this.result;//事件返回
    document.body.appendChild(img)
};
```